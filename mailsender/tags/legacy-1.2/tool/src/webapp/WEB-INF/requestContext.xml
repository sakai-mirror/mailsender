<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE beans PUBLIC "-//SPRING//DTD BEAN//EN" 
	"http://www.springframework.org/dtd/spring-beans.dtd">

<beans>
	<!-- list the backing beans here -->
	<bean id="emailBean" class="org.sakaiproject.mailsender.tool.beans.EmailBean">
		<property name="composeLogic" ref="org.sakaiproject.mailsender.logic.ComposeLogic" />
		<property name="configLogic" ref="org.sakaiproject.mailsender.logic.ConfigLogic" />
		<property name="externalLogic" ref="org.sakaiproject.mailsender.logic.ExternalLogic" />
		<property name="mailArchiveService" ref="org.sakaiproject.mailarchive.api.MailArchiveService" />
		<property name="multipartMap" ref="multipartMap" />
		<property name="serverConfigurationService" ref="org.sakaiproject.component.api.ServerConfigurationService" />
		<property name="messages" ref="targettedMessageList" />
		<property name="messageLocator" ref="messageLocator" />
	</bean>

	<bean id="configBean" class="org.sakaiproject.mailsender.tool.beans.ConfigBean">
		<property name="configLogic" ref="org.sakaiproject.mailsender.logic.ConfigLogic" />
	</bean>

	<bean id="sakaiFCKTextEvolver" class="uk.ac.cam.caret.sakai.rsf.tmp.evolverimpl.SakaiFCKTextEvolver">
		<property name="contentHostingService" ref="org.sakaiproject.content.api.ContentHostingService" />
		<property name="context" ref="sakai-Context" />
	</bean>

	<!-- rich text evolver bean def -->
   <bean id="richTextEvolver" parent="sakaiFCKTextEvolver" />

	<!-- Renderers -->
	<bean id="navBarRenderer" class="org.sakaiproject.mailsender.tool.producers.NavBarRenderer">
		<property name="messageLocator" ref="messageLocator" />
	</bean>

	<bean id="rcptSelectorRenderer" class="org.sakaiproject.mailsender.tool.producers.RecipientSelectorRenderer">
		<property name="viewStateHandler" ref="viewStateHandler" />
	</bean>

	<bean id="messageRenderer" class="org.sakaiproject.mailsender.tool.producers.SeverityMessageRenderer">
		<property name="messageLocator" ref="messageLocator" />
	</bean>

	<!-- list the producer beans here -->
	<bean class="org.sakaiproject.mailsender.tool.producers.ComposeProducer">
		<property name="configLogic" ref="org.sakaiproject.mailsender.logic.ConfigLogic" />
		<property name="externalLogic" ref="org.sakaiproject.mailsender.logic.ExternalLogic" />
		<property name="navBarRenderer" ref="navBarRenderer" />
		<property name="richTextEvolver" ref="richTextEvolver" />
		<property name="rcptSelectorRenderer" ref="rcptSelectorRenderer" />
	</bean>

	<bean class="org.sakaiproject.mailsender.tool.producers.OptionsProducer">
		<property name="navBarRenderer" ref="navBarRenderer" />
		<property name="externalLogic" ref="org.sakaiproject.mailsender.logic.ExternalLogic" />
	</bean>

	<bean class="org.sakaiproject.mailsender.tool.producers.ResultsProducer">
		<property name="navBarRenderer" ref="navBarRenderer" />
	</bean>

	<bean class="org.sakaiproject.mailsender.tool.producers.fragments.UserGroupingProducer">
		<property name="composeLogic" ref="org.sakaiproject.mailsender.logic.ComposeLogic" />
		<property name="viewStateHandler" ref="viewStateHandler" />
		<property name="messages" ref="targettedMessageList"/>
	</bean>

	<bean class="org.sakaiproject.mailsender.tool.producers.fragments.UsersProducer">
		<property name="composeLogic" ref="org.sakaiproject.mailsender.logic.ComposeLogic" />
		<property name="messages" ref="targettedMessageList"/>
	</bean>
</beans>